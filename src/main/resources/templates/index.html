<!DOCTYPE html>
<html lang="en"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>
    <div id="wrapper">
        <header id="head-bar" class="flex">
            <img src="/img/logo_blue.png" alt="main_logo">
            <h1 class="bold">TRIP TIP</h1>
        </header>

        <!-- 로그인 안 했을 시 -->
        <div class="content-box flex" th:if="${loginUser == null}">
            <section class="section-box" style="margin-left: 200px">
                <img src="/img/main_page_image.png" alt="main_img">
            </section>
            <section class="section-box right-section flex">
                <article class="main-nav flex">
                    <h1 class="slogan flex-item">
                        이번 모임 총부하실 분..? <br/>
                        저희가 합니다, 그 총무!
                    </h1>
                    <p class="slogan-description flex-item">Trip Tip으로 쉽게 정산하세요.</p>
                    <a th:href="@{'/api/users/signin'}" class="submit-a-group login-btn bold">로그인</a>
                    <a th:href="@{'/api/users/signup'}" class="submit-a-group register-btn bold">회원가입</a>
                </article>
            </section>
        </div>

        <!-- 로그인 했을 시 -->
        <div class="content-box flex" sec:authorize="isAuthenticated()">
            <div class="content-inner-box">
                <section class="content-nav flex">
                    <form class="group-search-form" th:action="@{/api/groups/join}" th:object="${groupJoinDto}" method="post">
                        <input type="text" id="group-code-input" class="bold" th:field="*{group_code}" placeholder="그룹 코드">
                        <button type="submit" class="btn-group bold">그룹 참여</button>
                    </form>
                    <article class="description-group flex">
                        <p class="description" sec:authorize="isAuthenticated()">
                            안녕하세요, [[${loginUser.getUsername()}]]님! <br/>
                            Trip Tip이 여러분들의 총무가 되어드립니다.
                        </p>
                        <img src="/img/main_page_logo.png">
                    </article>
                </section>
                <section class="group-box">
                    <a class="group-list-btn" th:href="@{/api/groups/list}">활동 내역 ></a>
<!--                    <table>-->
<!--                        <thead>-->
<!--                        <tr>-->
<!--                            <th>id</th>-->
<!--                            <th>name</th>-->
<!--                            <th>nickname</th>-->
<!--                            <th>email</th>-->
<!--                            <th>phone</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                        <tr th:each="user : ${users}">-->
<!--                            <td th:text="${user.id}" ></td>-->
<!--                            <td><a th:text="${user.username}" th:href="@{'/users/' + ${user.id} + '/update'}"></a></td>-->
<!--                            <td th:text="${user.nickname}"></td>-->
<!--                            <td th:text="${user.email}"></td>-->
<!--                            <td th:text="${user.phone}"></td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->
                </section>
                <div class="flex" style="justify-content: flex-end; margin-top: 15px;">
                    <button class="btn-group bold" type="button" th:onclick="|location.href='@{/api/groups/create}'|">그룹 생성</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>